import {
  require_react
} from "./chunk-5SDAPIJE.js";
import {
  __commonJS
} from "./chunk-TWLJ45QX.js";

// node_modules/use-local-storage/dist/index.js
var require_dist = __commonJS({
  "node_modules/use-local-storage/dist/index.js"(exports) {
    "use strict";
    var __assign = exports && exports.__assign || function() {
      __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
          s = arguments[i];
          for (var p in s)
            if (Object.prototype.hasOwnProperty.call(s, p))
              t[p] = s[p];
        }
        return t;
      };
      return __assign.apply(this, arguments);
    };
    Object.defineProperty(exports, "__esModule", { value: true });
    var react_1 = require_react();
    function useLocalStorage(key, defaultValue, options) {
      var opts = react_1.useMemo(function() {
        return __assign({ serializer: JSON.stringify, parser: JSON.parse, logger: console.log, syncData: true }, options);
      }, [options]);
      var serializer = opts.serializer, parser = opts.parser, logger = opts.logger, syncData = opts.syncData;
      var _a = react_1.useState(function() {
        if (typeof window === "undefined")
          return defaultValue;
        try {
          var item = window.localStorage.getItem(key);
          var res = item ? parser(item) : defaultValue;
          return res;
        } catch (e) {
          logger(e);
          return defaultValue;
        }
      }), storedValue = _a[0], setValue = _a[1];
      react_1.useEffect(function() {
        if (typeof window === "undefined")
          return;
        var updateLocalStorage = function() {
          if (storedValue !== void 0) {
            window.localStorage.setItem(key, serializer(storedValue));
          } else {
            window.localStorage.removeItem(key);
          }
        };
        try {
          updateLocalStorage();
        } catch (e) {
          logger(e);
        }
      }, [storedValue]);
      react_1.useEffect(function() {
        if (!syncData)
          return;
        var handleStorageChange = function(e) {
          if (e.key !== key || e.storageArea !== window.localStorage)
            return;
          try {
            setValue(e.newValue ? parser(e.newValue) : void 0);
          } catch (e2) {
            logger(e2);
          }
        };
        if (typeof window === "undefined")
          return;
        window.addEventListener("storage", handleStorageChange);
        return function() {
          return window.removeEventListener("storage", handleStorageChange);
        };
      }, [key, syncData]);
      return [storedValue, setValue];
    }
    exports.default = useLocalStorage;
  }
});

// dep:use-local-storage
var use_local_storage_default = require_dist();
export {
  use_local_storage_default as default
};
//# sourceMappingURL=use-local-storage.js.map
